<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>echarts</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="echarts.js"></script>
</head>
<body>
	<div id="mainCon" style="width:600px;height:400px"></div>
	<script>
			let data = {
					"prices": [
						[1542785135360, 0.004124757069048539], [1542785545956, 0.004129161410557295], [1542785822916, 0.004128997319140973], [1542786133571, 0.0041717284791469985], [1542786352422, 0.004167880190911817], [1542786723510, 0.004193413211523403], [1542787073737, 0.0042049145646548556], [1542787289983, 0.004225260005055893], [1542787559966, 0.00420366254399153], [1542787763094, 0.004196889834830798], [1542788095681, 0.004218283025016743], [1542788308583, 0.004216631532958242], [1542788747743, 0.004186810173994789], [1542788980246, 0.004182553849672824], [1542789277670, 0.004237910194278108], [1542789636632, 0.004198207133507639], [1542789869942, 0.0041950970069404014], [1542790251722, 0.004233727671231324], [1542790533807, 0.004254006322496288], [1542790844709, 0.004246985936985045], [1542791044426, 0.004218069070213851], [1542791443591, 0.004222165547271231], [1542791745870, 0.004220905010660216], [1542792059844, 0.004233791726134747], [1542792281609, 0.0042350987713953535], [1542792561592, 0.004256244259816853], [1542792756659, 0.004267024793832335], [1542793216159, 0.004258996372408232], [1542793500743, 0.0043320545302860435], [1542793798784, 0.004328277338940869], [1542794080433, 0.004325197418407635], [1542794486364, 0.0043224816042319505], [1542794486364, 0.0043224816042319505], [1542794805177, 0.004305586738970644], [1542795097796, 0.004307177547610366], [1542795424698, 0.004306684315296565], [1542795629378, 0.0043006033425930365], [1542796027307, 0.004292768111128341], [1542796276587, 0.004249478654058175], [1542796276587, 0.004249478654058175], [1542796716559, 0.004257651788915626], [1542796909334, 0.004300754458293289], [1542797230265, 0.004304510436292464], [1542797479418, 0.004308521704591148], [1542797736432, 0.004307734505012463], [1542798006212, 0.004283402433355525], [1542798499395, 0.0042901375614953375], [1542798738890, 0.004310144661612101], [1542799021048, 0.004318445169452364], [1542799372115, 0.0043180271576774365], [1542799479201, 0.004311658296741902], [1542799803360, 0.004301042501799016], [1542800040562, 0.004290846634819319], [1542800332410, 0.004282450798696247], [1542800544574, 0.004194038793725394], [1542800936582, 0.004198088013977783], [1542801271672, 0.004191833971985403], [1542801392407, 0.004276254098016849], [1542801817323, 0.00430113832372095], [1542802183175, 0.004311498623409769], [1542802502681, 0.004321777797148096], [1542802601465, 0.004284213729639706], [1542803088339, 0.004395333854088511], [1542803395537, 0.004514057257265185], [1542803683791, 0.004516403943647188], [1542803876254, 0.0045414525780330915], [1542804260970, 0.00456133025223502], [1542804544819, 0.004552849855914541], [1542804924294, 0.004564630626469553], [1542805127189, 0.004544588575532474], [1542805459987, 0.0045627675474594846], [1542805746385, 0.0045625290957305616], [1542806116184, 0.0045348213755854174], [1542806369547, 0.004530030920972758], [1542806637803, 0.004484821390311251], [1542806920866, 0.0044803200240996766], [1542807186240, 0.004457702758484788], [1542807580397, 0.004467361914251291], [1542807852916, 0.004467314747711406], [1542808162488, 0.004447527762199485], [1542808499387, 0.004405704803589082], [1542808724471, 0.004404933377382078], [1542808981753, 0.00434230491923781], [1542809363688, 0.004392500289155382], [1542809611981, 0.004404869653526845], [1542809997730, 0.004408418956767069], [1542810217377, 0.004340927859338961], [1542810583176, 0.004342864229511167], [1542810874953, 0.004332893713595703], [1542811185968, 0.004363969497254444], [1542811333029, 0.004362492291697524], [1542811658906, 0.004380881584646734], [1542812081072, 0.004335876517443654], [1542812278059, 0.004453061451141349], [1542812587666, 0.004500230977158808], [1542812811574, 0.004490425264462851], [1542813261154, 0.004507170161064736], [1542813549854, 0.004498937785651147], [1542813861901, 0.004501571265772665], [1542814178680, 0.004518046717462037], [1542814410624, 0.004509486848135956], [1542814781448, 0.00454888966213855], [1542815020254, 0.00450681528164375], [1542815344531, 0.004482409810242237], [1542815673166, 0.00444587891809796], [1542815841687, 0.004439855110288593], [1542816301063, 0.0045422591488746035], [1542816488759, 0.004455436452536192], [1542816817942, 0.0044451897370248], [1542817023099, 0.004443033140782027], [1542817518388, 0.004426352030539914], [1542817740279, 0.004453503941794801], [1542818079653, 0.0044601098823572145], [1542818349875, 0.0044665622921974445], [1542818657610, 0.004439850743132561], [1542818880068, 0.004455554863771179], [1542819308604, 0.004489613531971326], [1542819585235, 0.0044911612565392495], [1542819819490, 0.004489051933235626], [1542820198737, 0.004475178209103916], [1542820329776, 0.004421572781907567], [1542820789517, 0.004356840288398203], [1542821118636, 0.004381724706177045], [1542821118636, 0.004381724706177045], [1542821590559, 0.004399775029122703], [1542821945920, 0.00442107147360535], [1542822304581, 0.004423072052662318], [1542822539138, 0.004484283380666977], [1542822874765, 0.004472381611179198], [1542823166078, 0.004518032430251335], [1542823478411, 0.0045046699919044685], [1542823713450, 0.004487527449532704], [1542824064167, 0.004479302885179468], [1542824378417, 0.004468803502875353]
					]
				}
			
			function getDateFun(times){
					return times&&times.map(v => {
						let time = new Date(v)
						let minute;
						if (time.getMinutes() - 0 < 10) {
							minute = "0" + time.getMinutes()
						} else {
							minute = time.getMinutes()
						}
						return time.getFullYear() + "/" + (time.getMonth() + 1) + "/" + time.getDate() + " " + time.getHours() + ":" + minute;
					})
				}

			let times = []
			let prices = []
			data.prices.forEach(v => {
				times.push(v[0])
				prices.push(v[1])
			});
			// console.log(times)
			// console.log(prices)

			var myCharts = echarts.init(document.getElementById('mainCon'))
			myCharts.showLoading();
			setTimeout(() => {
				myCharts.hideLoading();
			}, 1000);
			
			
			let option = {
					tooltip: {
						trigger: 'axis',
						position: function (p) { //其中p为当前鼠标的位置
							return [p[0] + 10, p[1] - 10];
						},
						extraCssText: 'width:auto!important;padding:5px 20px'
					},
					grid: {
						left: '3%',
						right: '4%',
						bottom: '3%',
						containLabel: true
					},
					xAxis: {
						type: 'category',
						data: getDateFun(times)
					},
					yAxis: {
						type: 'value',
						//  min:"dataMin",
						min: function (value) {
							return (value.min * 100 / 101).toFixed(3);
						},
						//  max:"dataMax"
					},
					series: [{
						//  data: [0.0012, 0.0067, 0.0021, 0.0090, 0.0017, 0.0033, 0.0078],
						data: prices&&prices.map(v => v.toFixed(6)),
						type: 'line',
						//  symbol:'none',   
						//  smooth:false,
						areaStyle: {
							color: '#5562f9'
							//   normal: {
							//       color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
							//           offset: 0,
							//           color: '#5562f9'
							//       }, {
							//           offset: 1,
							//           color: '#5562f9'
							//       }])
							//   }
						},
						itemStyle: {
							normal: {
								color: '#5562f9',
								lineStyle: {
									color: '#5562f9',
									//   color:{
									//     type: 'linear',
									//     x: 0,
									//     y: 0,
									//     x2: 0,
									//     y2: 1,
									//     colorStops: [{
									//         offset: 0, color: 'rgba(52,110,239,1)'// 0% 处的颜色
									//     }, {
									//         offset: 1, color: 'rgba(88,46,199,1)' // 100% 处的颜色
									//     }],
									//     globalCoord: false // 缺省为 false
									// },
									width: 1
								}
							}
						},
					}]
				};
			setTimeout(() => {
				myCharts.setOption(option)
			}, 1000);
	</script>
</body>
</html>